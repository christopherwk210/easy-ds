"use strict";var updateGmlEditor=function(){currentSubObject=0,currentSubList=0;var e=jsonEditor.getValue(),t=convertJsonToDs(e);gmlEditor.setValue(t),gmlEditor.clearSelection()},setUpEditors=function(e){window.gmlEditor=ace.edit("gml-editor"),gmlEditor.$blockScrolling=1/0,gmlEditor.setTheme("ace/theme/monokai"),gmlEditor.getSession().setMode("ace/mode/javascript"),gmlEditor.setReadOnly(!0),gmlEditor.session.setOption("useWorker",!1),window.jsonEditor=ace.edit("json-editor"),jsonEditor.$blockScrolling=1/0,jsonEditor.getSession().on("change",updateGmlEditor),jsonEditor.setTheme("ace/theme/monokai"),jsonEditor.getSession().setMode("ace/mode/json"),jsonEditor.setValue(JSON.stringify(e,void 0,4)),jsonEditor.clearSelection()},parseArrayValue=function e(t,s,r,a){for(var n="",i=0,o=0;o<t.length;o++){var l=t[o];if("string"==typeof l)n+=s+"[| "+i+'] = "'+l+'";\n';else if("number"==typeof l)n+=s+"[| "+i+"] = "+l+";\n";else if(Array.isArray(l)){if(Array.isArray(l)){var d=currentSubList++;n+="\n//Create a DS list for index "+o+" of the "+r+" array\n"+(useVar?"var ":"")+subDsListName+d+" = ds_list_create();\n"+e(l,""+subDsListName+d,r,d)+"\n//Add sub list to the "+subDsListName+d+" list\n"+s+"[| "+i+"] = "+subDsListName+d+";\nds_list_mark_as_list("+s+", "+i+")\n"}}else{var m=currentSubObject++;n+="\n//Create a DS map for index "+o+" of the "+r+" array\n"+(useVar?"var ":"")+subDsMapName+m+" = ds_map_create();\n"+parseObjectToGml(l,""+subDsMapName+m)+"\n//Add sub map to the "+subDsListName+m+" list\n"+s+"[| "+i+"] = "+subDsMapName+a+";\nds_list_mark_as_map("+s+", "+i+");\n\n"}i++}return n},parseObjectProperty=function(e,t,s){var r="";if("string"==typeof e[t])r+=s+'[? "'+t+'"] = "'+e[t]+'";\n';else if("number"==typeof e[t])r+=s+'[? "'+t+'"] = '+e[t]+";\n";else if(Array.isArray(e[t])){if(Array.isArray(e[t])){var a=currentSubList++;r+="\n//Create a DS list for the "+t+" property\n"+(useVar?"var ":"")+subDsListName+a+" = ds_list_create();\n"+parseArrayValue(e[t],""+subDsListName+a,t,a)+"\n//Add sub list for the "+t+" property to the "+s+" map\nds_map_add_list("+s+', "'+t+'", '+subDsListName+a+")\n"}}else{var a=currentSubObject++;r+="\n//Create a DS map for the "+t+" property\n"+(useVar?"var ":"")+subDsMapName+a+" = ds_map_create();\n"+parseObjectToGml(e[t],""+subDsMapName+a)+"\n//Add sub map for the "+t+" property to the "+s+" map\nds_map_add_map("+s+', "'+t+'", '+subDsMapName+a+");\n\n"}return r},parseObjectToGml=function(e,t){var s="";for(var r in e)e.hasOwnProperty(r)&&(s+=parseObjectProperty(e,r,t).replace("\n\n\n","\n\n"));return s},convertJsonToDs=function(e){var t,s;try{t=JSON.parse(e)}catch(e){return""}return s="/* Code generated automatically from JSON using\n   https://christopherwk210.github.io/easy-ds/ */\n"+(useVar?"var ":"")+rootDsMapName+" = ds_map_create();\n",s+=parseObjectToGml(t,rootDsMapName)},rootDsMapName="_converted_ds",subDsMapName="_sub_ds",subDsListName="_sub_list",currentSubObject=0,currentSubList=0,defaultJSON={lives:3,score:100,player:{name:"Joe",color:"purple",items:["sword","hammer","axe"]}},settingsElement=document.getElementById("settings"),gmlEditorElement=document.getElementById("gml-editor"),settingsViewElement=document.getElementById("settings-view"),useVarElement=document.getElementById("use-var"),settingsView=!1,useVar=!0;setUpEditors(defaultJSON),settingsElement.addEventListener("click",function(){updateGmlEditor(),settingsView?(gmlEditorElement.style.display="block",settingsViewElement.style.display="none"):(gmlEditorElement.style.display="none",settingsViewElement.style.display="block"),settingsView=!settingsView}),useVarElement.addEventListener("click",function(e){useVar=e.srcElement.checked});