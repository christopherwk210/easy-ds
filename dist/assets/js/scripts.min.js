"use strict";var setUpEditors=function(e){window.gmlEditor=ace.edit("gml-editor"),gmlEditor.$blockScrolling=1/0,gmlEditor.setTheme("ace/theme/monokai"),gmlEditor.getSession().setMode("ace/mode/javascript"),gmlEditor.setReadOnly(!0),gmlEditor.session.setOption("useWorker",!1),window.jsonEditor=ace.edit("json-editor"),jsonEditor.$blockScrolling=1/0,jsonEditor.getSession().on("change",function(e){currentSubObject=0,currentSubList=0;var r=jsonEditor.getValue(),t=convertJsonToDs(r);gmlEditor.setValue(t),gmlEditor.clearSelection()}),jsonEditor.setTheme("ace/theme/monokai"),jsonEditor.getSession().setMode("ace/mode/json"),jsonEditor.setValue(JSON.stringify(e,void 0,4)),jsonEditor.clearSelection()},parseArrayValue=function e(r,t,s,a){for(var o="",n=0,i=0;i<r.length;i++){var u=r[i];if("string"==typeof u)o+=t+"[| "+n+'] = "'+u+'";\n';else if("number"==typeof u)o+=t+"[| "+n+"] = "+u+";\n";else if(Array.isArray(u)){if(Array.isArray(u)){var m=currentSubList++;o+="\n//Create a DS list for index "+i+" of the "+s+" array\n"+subDsListName+m+" = ds_list_create();\n"+e(u,""+subDsListName+m,s,m)+"\n//Add sub list to the "+subDsListName+m+" list\n"+t+"[| "+n+"] = "+subDsListName+m+";\nds_list_mark_as_list("+t+", "+n+")\n"}}else{var d=currentSubObject++;o+="\n//Create a DS map for index "+i+" of the "+s+" array\n"+subDsMapName+d+" = ds_map_create();\n"+parseObjectToGml(u,""+subDsMapName+d)+"\n//Add sub map to the "+subDsListName+d+" list\n"+t+"[| "+n+"] = "+subDsMapName+a+";\nds_list_mark_as_map("+t+", "+n+");\n\n"}n++}return o},parseObjectProperty=function(e,r,t){var s="";if("string"==typeof e[r])s+=t+'[? "'+r+'"] = "'+e[r]+'";\n';else if("number"==typeof e[r])s+=t+'[? "'+r+'"] = '+e[r]+";\n";else if(Array.isArray(e[r])){if(Array.isArray(e[r])){var a=currentSubList++;s+="\n//Create a DS list for the "+r+" property\n"+subDsListName+a+" = ds_list_create();\n"+parseArrayValue(e[r],""+subDsListName+a,r,a)+"\n//Add sub list for the "+r+" property to the "+t+" map\nds_map_add_list("+t+', "'+r+'", '+subDsListName+a+")\n"}}else{var a=currentSubObject++;s+="\n//Create a DS map for the "+r+" property\n"+subDsMapName+a+" = ds_map_create();\n"+parseObjectToGml(e[r],""+subDsMapName+a)+"\n//Add sub map for the "+r+" property to the "+t+" map\nds_map_add_map("+t+', "'+r+'", '+subDsMapName+a+");\n\n"}return s},parseObjectToGml=function(e,r){var t="";for(var s in e)e.hasOwnProperty(s)&&(t+=parseObjectProperty(e,s,r).replace("\n\n\n","\n\n"));return t},convertJsonToDs=function(e){var r,t;try{r=JSON.parse(e)}catch(e){return""}return t="/* Code generated automatically from JSON using\n   http://github.io/christopherwk210/easy-ds */\n"+rootDsMapName+" = ds_map_create();\n",t+=parseObjectToGml(r,rootDsMapName)},rootDsMapName="_converted_ds",subDsMapName="_sub_ds",subDsListName="_sub_list",currentSubObject=0,currentSubList=0,defaultJSON={lives:3,score:100,player:{name:"Joe",color:"purple",items:["sword","hammer","axe"]}};setUpEditors(defaultJSON);